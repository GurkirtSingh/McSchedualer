import base64
import quickstart
## file - main.py
## description - This is startup file for mcscheduler. which will
## start all the other services.

## step 1 - Login to Gmail

## step 2 - store the crediantial for future use
## step 3 - Read the latest email sent by mcd13687@ext.mcdonalds.com ( is uniqe by the restorent)
base64_message = quickstart.gmailAPI()

# decoding message from base64 to ascii
base64_bytes = base64_message.encode('ascii')
message_bytes = base64.urlsafe_b64decode(base64_bytes)
message = message_bytes.decode('ascii', errors='ignore')
print(message)
## step 4 - confirm the Subjact of email is 'Your next week's schedule'
## step 5 - parse the events (shifts) with date, time and position
## step 6 - Access the calender with same email
## step 7 - creaet new events in the calender from the parsed events
## Success

## Subscribe to the gmail's new eamil event for seamless performance